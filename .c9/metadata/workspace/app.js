{"changed":true,"filter":false,"title":"app.js","tooltip":"/app.js","value":"window.onload = function() {\n\n  //  Create your Phaser game and inject it into the gameContainer div.\n  //  We did it in a window.onload event, but you can do it anywhere (requireJS load, anonymous function, jQuery dom ready, - whatever floats your boat)\n  var game = new Phaser.Game(160, 144, Phaser.CANVAS, 'gameContainer');\n  \n  // var pixel = { scale: 4, canvas: null, context: null, width: 0, height: 0 }\n\n  //  Add the States your game has.\n  //  You don't have to do this in the html, it could be done in your Boot state too, but for simplicity I'll keep it here.\n  game.state.add('Boot', BasicGame.Boot);\n  game.state.add('Preloader', BasicGame.Preloader);\n  game.state.add('MainMenu', BasicGame.MainMenu);\n  game.state.add('Game', BasicGame.Game);\n  \n  // Scaling stuff\n  \n  // //  Hide the un-scaled game canvas\n  // game.canvas.style['display'] = 'none';\n\n  // //  Create our scaled canvas. It will be the size of the game * whatever scale value you've set\n  // pixel.canvas = Phaser.Canvas.create(160 * 3, 144 * 3);\n\n  // //  Store a reference to the Canvas Context\n  // pixel.context = pixel.canvas.getContext('2d');\n\n  // //  Add the scaled canvas to the DOM\n  // Phaser.Canvas.addToDOM(pixel.canvas);\n\n  // //  Disable smoothing on the scaled canvas\n  // Phaser.Canvas.setSmoothingEnabled(pixel.context, false);\n\n  // //  Cache the width/height to avoid looking it up every render\n  // pixel.width = pixel.canvas.width;\n  // pixel.height = pixel.canvas.height;\n\n  //  Now start the Boot state.\n  game.state.start('Boot');\n\n};\n","undoManager":{"mark":64,"position":66,"stack":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":4,"column":29},"end":{"row":4,"column":33}},"text":"1024"},{"action":"insertText","range":{"start":{"row":4,"column":29},"end":{"row":4,"column":30}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":30},"end":{"row":4,"column":31}},"text":"6"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":31},"end":{"row":4,"column":32}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":4,"column":34},"end":{"row":4,"column":37}},"text":"768"},{"action":"insertText","range":{"start":{"row":4,"column":34},"end":{"row":4,"column":35}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":35},"end":{"row":4,"column":36}},"text":"4"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":36},"end":{"row":4,"column":37}},"text":"4"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":4,"column":46},"end":{"row":4,"column":50}},"text":"AUTO"},{"action":"insertText","range":{"start":{"row":4,"column":46},"end":{"row":4,"column":47}},"text":"C"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":47},"end":{"row":4,"column":48}},"text":"A"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":48},"end":{"row":4,"column":49}},"text":"N"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":49},"end":{"row":4,"column":50}},"text":"V"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":50},"end":{"row":4,"column":51}},"text":"A"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":51},"end":{"row":4,"column":52}},"text":"S"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":71},"end":{"row":5,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":2},"end":{"row":6,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":2},"end":{"row":6,"column":76}},"text":"var pixel = { scale: 4, canvas: null, context: null, width: 0, height: 0 }"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":76},"end":{"row":7,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":7,"column":0},"end":{"row":7,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":7,"column":2},"end":{"row":8,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":8,"column":0},"end":{"row":8,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":8,"column":2},"end":{"row":8,"column":19}},"text":"function init() {"},{"action":"insertText","range":{"start":{"row":8,"column":19},"end":{"row":9,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":9,"column":0},"end":{"row":29,"column":0}},"lines":[" ","    //  Hide the un-scaled game canvas","    game.canvas.style['display'] = 'none';"," ","    //  Create our scaled canvas. It will be the size of the game * whatever scale value you've set","    pixel.canvas = Phaser.Canvas.create(game.width * pixel.scale, game.height * pixel.scale);"," ","    //  Store a reference to the Canvas Context","    pixel.context = pixel.canvas.getContext('2d');"," ","    //  Add the scaled canvas to the DOM","    Phaser.Canvas.addToDOM(pixel.canvas);"," ","    //  Disable smoothing on the scaled canvas","    Phaser.Canvas.setSmoothingEnabled(pixel.context, false);"," ","    //  Cache the width/height to avoid looking it up every render","    pixel.width = pixel.canvas.width;","    pixel.height = pixel.canvas.height;"," "]},{"action":"insertText","range":{"start":{"row":29,"column":0},"end":{"row":29,"column":1}},"text":"}"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":29,"column":1},"end":{"row":30,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":30,"column":0},"end":{"row":31,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":0},"end":{"row":31,"column":19}},"text":"function render() {"},{"action":"insertText","range":{"start":{"row":31,"column":19},"end":{"row":32,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":32,"column":0},"end":{"row":36,"column":0}},"lines":[" ","    //  Every loop we need to render the un-scaled game canvas to the displayed scaled canvas:","    pixel.context.drawImage(game.canvas, 0, 0, game.width, game.height, 0, 0, pixel.width, pixel.height);"," "]},{"action":"insertText","range":{"start":{"row":36,"column":0},"end":{"row":36,"column":1}},"text":"}"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":6,"column":2},"end":{"row":6,"column":76}},"text":"var pixel = { scale: 4, canvas: null, context: null, width: 0, height: 0 }"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":29,"column":0},"end":{"row":29,"column":1}},"text":"}"},{"action":"removeLines","range":{"start":{"row":9,"column":0},"end":{"row":29,"column":0}},"nl":"\n","lines":[" ","    //  Hide the un-scaled game canvas","    game.canvas.style['display'] = 'none';"," ","    //  Create our scaled canvas. It will be the size of the game * whatever scale value you've set","    pixel.canvas = Phaser.Canvas.create(game.width * pixel.scale, game.height * pixel.scale);"," ","    //  Store a reference to the Canvas Context","    pixel.context = pixel.canvas.getContext('2d');"," ","    //  Add the scaled canvas to the DOM","    Phaser.Canvas.addToDOM(pixel.canvas);"," ","    //  Disable smoothing on the scaled canvas","    Phaser.Canvas.setSmoothingEnabled(pixel.context, false);"," ","    //  Cache the width/height to avoid looking it up every render","    pixel.width = pixel.canvas.width;","    pixel.height = pixel.canvas.height;"," "]},{"action":"removeText","range":{"start":{"row":8,"column":2},"end":{"row":8,"column":19}},"text":"function init() {"},{"action":"removeText","range":{"start":{"row":8,"column":2},"end":{"row":9,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":13,"column":0},"end":{"row":13,"column":105}},"text":"    pixel.context.drawImage(game.canvas, 0, 0, game.width, game.height, 0, 0, pixel.width, pixel.height);"},{"action":"removeText","range":{"start":{"row":12,"column":4},"end":{"row":12,"column":94}},"text":"//  Every loop we need to render the un-scaled game canvas to the displayed scaled canvas:"},{"action":"removeText","range":{"start":{"row":12,"column":4},"end":{"row":13,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":0},"end":{"row":14,"column":1}},"text":"}"},{"action":"removeLines","range":{"start":{"row":6,"column":0},"end":{"row":14,"column":0}},"nl":"\n","lines":["  ","  ","  ","","function render() {"," ","    "," "]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":2},"end":{"row":6,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":4,"column":71},"end":{"row":5,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":71},"end":{"row":5,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":5,"column":2},"end":{"row":6,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":2},"end":{"row":6,"column":76}},"text":"var pixel = { scale: 4, canvas: null, context: null, width: 0, height: 0 }"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":13,"column":41},"end":{"row":14,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":14,"column":0},"end":{"row":14,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":2},"end":{"row":15,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":15,"column":0},"end":{"row":15,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":2},"end":{"row":15,"column":3}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":3},"end":{"row":15,"column":4}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":4},"end":{"row":15,"column":5}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":5},"end":{"row":15,"column":6}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":6},"end":{"row":15,"column":7}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":15,"column":6},"end":{"row":15,"column":7}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":15,"column":5},"end":{"row":15,"column":6}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":5},"end":{"row":15,"column":6}},"text":"S"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":6},"end":{"row":15,"column":7}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":7},"end":{"row":15,"column":8}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":8},"end":{"row":15,"column":9}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":9},"end":{"row":15,"column":10}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":10},"end":{"row":15,"column":11}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":11},"end":{"row":15,"column":12}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":12},"end":{"row":15,"column":13}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":13},"end":{"row":15,"column":14}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":14},"end":{"row":15,"column":15}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":15},"end":{"row":15,"column":16}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":16},"end":{"row":15,"column":17}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":17},"end":{"row":15,"column":18}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":15,"column":18},"end":{"row":16,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":16,"column":0},"end":{"row":16,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":16,"column":2},"end":{"row":17,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":17,"column":0},"end":{"row":17,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":2},"end":{"row":17,"column":36}},"text":"//  Hide the un-scaled game canvas"},{"action":"insertText","range":{"start":{"row":17,"column":36},"end":{"row":18,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":18,"column":0},"end":{"row":34,"column":0}},"lines":["    this.canvas.style['display'] = 'none';"," ","    //  Create our scaled canvas. It will be the size of the game * whatever scale value you've set","    pixel.canvas = Phaser.Canvas.create(160 * 3, 144 * 3);"," ","    //  Store a reference to the Canvas Context","    pixel.context = pixel.canvas.getContext('2d');"," ","    //  Add the scaled canvas to the DOM","    Phaser.Canvas.addToDOM(pixel.canvas);"," ","    //  Disable smoothing on the scaled canvas","    Phaser.Canvas.setSmoothingEnabled(pixel.context, false);"," ","    //  Cache the width/height to avoid looking it up every render","    pixel.width = pixel.canvas.width;"]},{"action":"insertText","range":{"start":{"row":34,"column":0},"end":{"row":34,"column":39}},"text":"    pixel.height = pixel.canvas.height;"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":4},"end":{"row":18,"column":8}},"text":"this"},{"action":"insertText","range":{"start":{"row":18,"column":4},"end":{"row":18,"column":5}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":5},"end":{"row":18,"column":6}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":6},"end":{"row":18,"column":7}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":7},"end":{"row":18,"column":8}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":0},"end":{"row":18,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":19,"column":0},"end":{"row":19,"column":1}},"text":" "},{"action":"removeText","range":{"start":{"row":20,"column":0},"end":{"row":20,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":21,"column":0},"end":{"row":21,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":22,"column":0},"end":{"row":22,"column":1}},"text":" "},{"action":"removeText","range":{"start":{"row":23,"column":0},"end":{"row":23,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":24,"column":0},"end":{"row":24,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":1}},"text":" "},{"action":"removeText","range":{"start":{"row":26,"column":0},"end":{"row":26,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":28,"column":0},"end":{"row":28,"column":1}},"text":" "},{"action":"removeText","range":{"start":{"row":29,"column":0},"end":{"row":29,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":30,"column":0},"end":{"row":30,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":31,"column":0},"end":{"row":31,"column":1}},"text":" "},{"action":"removeText","range":{"start":{"row":32,"column":0},"end":{"row":32,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":33,"column":0},"end":{"row":33,"column":2}},"text":"  "},{"action":"removeText","range":{"start":{"row":34,"column":0},"end":{"row":34,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":2},"end":{"row":18,"column":3}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":18,"column":3},"end":{"row":18,"column":4}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":3},"end":{"row":18,"column":4}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":18,"column":2},"end":{"row":18,"column":3}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":2},"end":{"row":6,"column":5}},"text":"// "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":17,"column":2},"end":{"row":17,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":18,"column":2},"end":{"row":18,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":20,"column":2},"end":{"row":20,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":21,"column":2},"end":{"row":21,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":23,"column":2},"end":{"row":23,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":24,"column":2},"end":{"row":24,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":26,"column":2},"end":{"row":26,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":27,"column":2},"end":{"row":27,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":29,"column":2},"end":{"row":29,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":30,"column":2},"end":{"row":30,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":32,"column":2},"end":{"row":32,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":33,"column":2},"end":{"row":33,"column":5}},"text":"// "},{"action":"insertText","range":{"start":{"row":34,"column":2},"end":{"row":34,"column":5}},"text":"// "}]}]]},"ace":{"folds":[],"scrolltop":60,"scrollleft":0,"selection":{"start":{"row":17,"column":8},"end":{"row":34,"column":40},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":11,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1407049899552}